"use strict";(self.webpackChunkreact_embed=self.webpackChunkreact_embed||[]).push([[623],{"./src/blocks/dropbox/index.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{default:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react/jsx-runtime.js");const script=document.createElement("script");script.type="text/javascript",script.id="dropboxjs";const DROPBOX_APP_KEY=window.DROPBOX_APP_KEY;DROPBOX_APP_KEY&&script.setAttribute("data-app-key",DROPBOX_APP_KEY),script.src="https://www.dropbox.com/static/api/2/dropins.js",document.body.append(script);const DropboxUi=({url,renderWrap})=>{const ref=react__WEBPACK_IMPORTED_MODULE_0__.useRef();return react__WEBPACK_IMPORTED_MODULE_0__.useLayoutEffect((()=>{if(!ref.current)return;const embed=Dropbox.embed({link:url,file:{zoom:"best"},folder:{view:"list",headerSize:"normal"}},ref.current);return()=>{Dropbox.unmount(embed)}}),[]),renderWrap((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)("div",{ref,style:{height:500}}))},WithDropbox=props=>{const[ready,setReady]=react__WEBPACK_IMPORTED_MODULE_0__.useState(!1);return react__WEBPACK_IMPORTED_MODULE_0__.useEffect((()=>{let mounted=!0;const wait=()=>{mounted&&("undefined"==typeof Dropbox?setTimeout(wait,100):setReady(!0))};return wait(),()=>{mounted=!1}}),[]),ready?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(DropboxUi,{...props}):null};WithDropbox.displayName="WithDropbox";const __WEBPACK_DEFAULT_EXPORT__=WithDropbox;try{dropbox.displayName="dropbox",dropbox.__docgenInfo={description:"",displayName:"dropbox",props:{id:{defaultValue:null,description:"",name:"id",required:!0,type:{name:"string"}},width:{defaultValue:null,description:"",name:"width",required:!0,type:{name:"number"}},isDark:{defaultValue:null,description:"",name:"isDark",required:!0,type:{name:"boolean"}},renderVoid:{defaultValue:null,description:"",name:"renderVoid",required:!0,type:{name:"(error?: Error | undefined) => ReactElement<any, string | JSXElementConstructor<any>> | null"}},renderWrap:{defaultValue:null,description:"",name:"renderWrap",required:!0,type:{name:"ReactEmbedWrapRenderer"}},url:{defaultValue:null,description:"",name:"url",required:!0,type:{name:"string"}},hostname:{defaultValue:null,description:"",name:"hostname",required:!0,type:{name:"string"}},pathname:{defaultValue:null,description:"",name:"pathname",required:!0,type:{name:"string"}},search:{defaultValue:null,description:"",name:"search",required:!0,type:{name:"string"}},hash:{defaultValue:null,description:"",name:"hash",required:!0,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/blocks/dropbox/index.tsx#dropbox"]={docgenInfo:dropbox.__docgenInfo,name:"dropbox",path:"src/blocks/dropbox/index.tsx#dropbox"})}catch(__react_docgen_typescript_loader_error){}}}]);